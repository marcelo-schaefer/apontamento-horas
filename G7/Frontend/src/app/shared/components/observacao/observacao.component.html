<form nz-form nzLayout="vertical" [formGroup]="formObservacao" class="top-50">
  <nz-form-item>
    <nz-form-label
      [nzRequired]="campoObrigatorio(formObservacao.get('observacao'))"
      >{{ label }}</nz-form-label
    >

    <nz-form-control [nzErrorTip]="erroObservacaoTpl">
      <nz-textarea-count [nzMaxCharacterCount]="400">
        <textarea rows="4" formControlName="observacao" nz-input></textarea>
      </nz-textarea-count>

      <ng-template #erroObservacaoTpl let-control>
        <ng-container
          *ngIf="control.hasError('required') || (control.hasError('pattern') && control.errors.pattern.requiredPattern == regexNoWhiteSpacesOnly)"
        >
          Campo obrigatório
        </ng-container>

        <ng-container *ngIf="control.hasError('maxlength')">
          O texto não pode ultrapassar 400 caracteres
        </ng-container>
      </ng-template>
    </nz-form-control>
  </nz-form-item>
</form>

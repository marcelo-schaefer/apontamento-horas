<form nz-form nzLayout="vertical" [formGroup]="formObservacao" class="top-50">
  <div nz-row [nzGutter]="24" *ngIf="apresentarAprovarAvisoPrevio">
    <div nz-col [nzSpan]="6">
      <nz-form-item>
        <nz-form-label nzFor="aprovarAvisoPrevio"
          >Aprovar liberação Aviso Prévio</nz-form-label
        >

        <nz-form-control nzErrorTip="Campo obrigatorio">
          <nz-select
            formControlName="aprovarAvisoPrevio"
            id="aprovarAvisoPrevio"
            nzShowSearch
            nzPlaceHolder="Sim/Não"
          >
            <nz-option nzValue="S" nzLabel="Sim"></nz-option>
            <nz-option nzValue="N" nzLabel="Não"></nz-option> </nz-select
        ></nz-form-control>
      </nz-form-item>
    </div>
  </div>

  <nz-form-item>
    <nz-form-label
      [nzRequired]="campoObrigatorio(formObservacao.get('observacao'))"
      >{{ label }}</nz-form-label
    >

    <nz-form-control [nzErrorTip]="erroObservacaoTpl">
      <nz-textarea-count [nzMaxCharacterCount]="400">
        <textarea rows="4" formControlName="observacao" nz-input></textarea>
      </nz-textarea-count>

      <ng-template #erroObservacaoTpl let-control>
        <ng-container
          *ngIf="control.hasError('required') || (control.hasError('pattern') && control.errors.pattern.requiredPattern == regexNoWhiteSpacesOnly)"
        >
          Campo obrigatório
        </ng-container>

        <ng-container *ngIf="control.hasError('maxlength')">
          O texto não pode ultrapassar 400 caracteres
        </ng-container>
      </ng-template>
    </nz-form-control>
  </nz-form-item>
</form>
